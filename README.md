# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание данных
### Интерфейс IProduct
Предназначен для хранения данных о продуктах, продаваемых на сайте. 
Содержит следующие поля:
- id, типа string - идентификатор продукта
- description, типа string - описание продукта
- image, типа string - адрес изображения
- title, типа string - заголовок продукта
- category, типа string - категория продукта
- price, типа number - стоимость продукта

### Интерфейс ICart
Предназначен для хранения информации о состоянии корзины. Хранит в себе список продуктов. Имеет методы для управления состоянием корзины.
Содержит следующие поля и методы:
- products, типа IProduct[] - коллекция продуктов в корзине
- count, типа number - количество продуктов в корзине
- cost, типа number - полная стоимость корзины
- метод addProduct - добавляет в корзину продукт, если его там не было
- метод removeProduct - удаляет продукт из корзины, если он там был
- метод clear - очищает корзину

### Интерфейс IDeliveryInfo
Предназначен для хранения базовой информации о заказе
Содержит следующие поля:
- paymentType, типа TPaymentType (возможные значения 'online' и 'deliver') - информация о способе оплаты заказа
- address, типа string - адрес получателя

### Интерфейс ICustomerContact
Предназначен для хранения информации о получателе
Содержит следующие поля:
- email, типа string - адрес электронной почты получателя
- phone, типа string - номер телефона получателя

### Интерфейс IOrderInfo
Предназначен для хранения информации о заказе, унаследован от IDeliveryInfo и ICustomerContact, поэтому содержит в себе все поля из указанных интерфейсов плюс еще одно поле:
- total, типа number - полная стоимость заказа

### Интерфейс IOrderResult
Предназначен для хранения информации о созданном заказе
Содержит следующие поля:
- id, типа string - идентификатор соданного заказа
- total, типа тгьиук - итоговая стоимость соданного заказа


## Модели данных
### Класс Cart
Реализует интерфейс ICart. Конструктор принимает интерфейс IEvents (брокер сообщений). Внутри содержит protected поле с продуктами и методы для изменения корзины. При добавлении или удалении элементов, а также при очистке корзины, генерирует событие 'cart:change'.

### Класс AppData
Предназначен для хранения текущего состояния приложения. Содержит следующие поля:
- cart, типа ICart - текущий объект корзины
- cartIsVisible, типа boolean - содержит признак того, что на странице отображено модальное окно с содержимым корзины (требуется для перерисовки корзины при удалении продукта из корзины)


## Компоненты представления
### Component
Базовый класс для создания любого визаульного компонента. Содержит вспомогательные методы для отрисовки данных и метод render для финальной отрисовки визуального компонента. Метод render принимает в качестве аргумента объект с данными, которые сопоставляются с полями унаследованных классов.

### Page
Представляет собой компонент для отображения главной страницы. В конструктор принимает дополнительно объект с обработчиком клика на кнопке корзины. 
Содержит сеттеры:
- Количество товаров в корзине - counter
- Список товаров в каталоге - catalog

### CardBase
Унаследован от Component.
Базовый класс для карточек с продуктами. Содержит сеттеры:
- Категории продукта - category
- Заголовка продукта - title
- Стоимости продукта - price
- Изображения продукта - image

### Card
Унаследован от CardBase.
Предназначен для отображения информации о продукте на главной странице. В конструктор дополнительно принимает объект с обработчиком события клика на контейнер продукта

### CardPreview
Унаследован от CardBase.
Предназначен для отображения информации о продукте во всплывающем окне при клике на продукт на главной странице. В конструктор дополнительно принимает объект с обработчиками событий для клика на кнопку удаления или добавления в корзину. Имеет два дополнительных сеттера по сравнению с родительским объектом:
- Описание продукта - description
- Признак нахождения товара в корзине - необходим для правильной установки текста на кнопке ("Убрать" или "Купить")

### CartItemView
Предназначен для отображения информации о продукте во всплывающем окне корзины. В конструктор дополнительно принимает объект с обработчиком события для клика на кнопку удаления продукта из корзины.
Содержит следующие сеттеры:
- Порядковый номер - index
- Название продукта - title
- Цена продукта - price

### CartView
Предназначен для отображения информации о корзине во всплывающем окне. В конструктор дополнительно принимает объект с обработчиком события для на кнопку оформления заказа.
Содержит следующие сеттеры:
- Список товаров в корзине - items
- Полная стоимость товара в корзине - total. Если в корзине есть продукт с бесценной стоимостью, то вся корзина имеет бесценную стоимость. 